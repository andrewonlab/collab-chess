<html>
<head>
    <script src="js/GraphicsManager.js" type="text/javascript"></script>
    <script src="js/Piece.js" type="text/javascript"></script>
    <script src="js/Board.js" type="text/javascript"></script>
    <script src="js/GameManager.js" type="text/javascript"></script>
</head>
<body>
    <div id="canvas_contianer"></div>

    <div id="preload" style="display:none">
       <img id="king_img" src="img/png/king_large.png" width="200" height="200" alt="king" />
       <img id="queen_img" src="img/png/queen_large.png" width="200" height="200" alt="queen" />
       <img id="rook_img" src="img/png/rook_large.png" width="200" height="200" alt="rook" />
       <img id="bishop_img" src="img/png/bishop_large.png" width="200" height="200" alt="bishop" />
       <img id="knight_img" src="img/png/knight_large.png" width="200" height="200" alt="knight" />
       <img id="pawn_img" src="img/png/pawn_large.png" width="200" height="200" alt="pawn" />
    </div>
</body>
<script type="text/javascript">
    var board_size = Math.min(window.innerWidth, window.innerHeight)*0.95;
    // var gfx = new GraphicsManager(document.getElementById("canvas_contianer"), board_size, board_size);
    var json = {
        "black": [
            [0, 4, "k"],
            [0, 3, "q"],
            [0, 2, "b"], [0, 5, "b"],
            [0, 1, "h"], [0, 6, "h"],
            [0, 0, "r"], [0, 7, "r"],
            [1, 0, "p"], [1, 1, "p"], [1, 2, "p"], [1, 3, "p"], [1, 4, "p"], [1, 5, "p"], [1, 6, "p"], [1, 7, "p"]
        ],
        "white": [
            [7, 4, "k"],
            [7, 3, "q"],
            [7, 2, "b"], [7, 5, "b"],
            [7, 1, "h"], [7, 6, "h"],
            [7, 0, "r"], [7, 7, "r"],
            [6, 0, "p"], [6, 1, "p"], [6, 2, "p"], [6, 3, "p"], [6, 4, "p"], [6, 5, "p"], [6, 6, "p"], [6, 7, "p"]
        ],
        "victory": 1,
        "chat": "current chat message(s)"
    }

    var gm = new GameManager(document.getElementById("canvas_contianer"), board_size, board_size, json);
    document.addEventListener("keypress", function (event) {
        // if the key 'u' was pressed
        if (event.keyCode == 117) {
            gm.undoMove();
        }
    });

    window.setInterval(function() {
        gm.update();
    }, 100);

</script>
</html>